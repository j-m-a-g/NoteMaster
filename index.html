<!doctype html>
<html lang="en">
  <head>
    <link crossorigin="use-credentials" href="manifest.json" rel="manifest" />
    <link href="notemasterIcon.svg" rel="icon" />
    <link href="Styles/fileViewers.css" rel="stylesheet" />
    <link href="Styles/index.css" rel="stylesheet" />
    <link href="Styles/styleMapStyles.css" rel="stylesheet" />
    <link id="customStylesheet" rel="stylesheet" />
    <link id="darkModeStylesheet" rel="stylesheet" />
    <meta charset="UTF-8" />
    <meta content="ie=edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>NoteMaster</title>

    <link
      href="https://cdn.jsdelivr.net/npm/quill/dist/quill.snow.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/pretty-checkbox/dist/pretty-checkbox.min.css"
      rel="stylesheet"
    />
  </head>

  <body
    onbeforeunload="if (quill.getLength() !== 1 || noteName.value !== '') { event.preventDefault(); event.returnValue = '' }"
    onload="onLoadTasks()"
    onresize="dynamicallySetHeight()"
  >
    <!-- Global Snack-bar -->
    <div id="snackbar">
      <img
        class="primaryButton menu navSeparation"
        src="Assets/Images/info_000000.svg"
      />
      <span class="navSeparation" id="snackbarMessage"></span>
      <button
        class="warningBanner"
        onclick="snackbar.style.display = 'none'"
        title="Dismiss"
      >
        <img class="primaryButton menu" src="Assets/Images/close_000000.svg" />
      </button>
    </div>
    <nav id="appMenu">
      <button
        class="menu"
        disabled
        id="quillUndo"
        onclick="quill.history.undo()"
        title="Undo change (Ctrl + Z)"
      >
        <img class="menu" src="Assets/Images/undo_000000.svg" />
      </button>
      <button
        class="menu"
        disabled
        id="quillRedo"
        onclick="quill.history.redo()"
        title="Redo change (Ctrl + Y)"
      >
        <img class="menu" src="Assets/Images/redo_000000.svg" />
      </button>
      <button
        class="menu"
        onmouseleave="document.getElementById('fileMenu').hidden = true"
        onmouseover="document.getElementById('fileMenu').hidden = false"
      >
        File
      </button>
      <div
        class="menu"
        hidden
        id="fileMenu"
        onclick="this.hidden = true"
        onmouseleave="this.hidden = true"
        onmouseover="this.hidden = false"
        style="margin-left: 75px"
      >
        <button
          accesskey="n"
          class="menuDropdown"
          onclick="if (noteEditor.hidden) { initiateNote(false) } else { confirmSave() }"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/note_add_000000.svg"
          />
          <u>N</u>ew <span class="helperText menuDropdown">Alt + N</span>
        </button>
        <button
          accesskey="o"
          class="menuDropdown"
          id="openNote"
          onclick="handleAnotherOpen()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/file_open_000000.svg"
          />
          <u>O</u>pen Note...
          <span class="helperText menuDropdown">Alt + O</span>
        </button>
        <button
          accesskey="s"
          class="menuDropdown"
          disabled
          id="save"
          onclick="saveNoteProgress()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/save_000000.svg"
          />
          <u>S</u>ave <span class="helperText">(In-Browser)</span>
          <span class="helperText menuDropdown">Alt + S</span>
        </button>
        <button
          accesskey="p"
          class="menuDropdown"
          disabled
          id="printNote"
          onclick="printNoteOperation()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/print_000000.svg"
          />
          <u>P</u>rint Note <span class="helperText menuDropdown">Alt + P</span>
        </button>
        <button
          accesskey="w"
          class="menuDropdown"
          disabled
          id="downloadNote"
          onclick="downloadNoteOperation(false)"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/download_000000.svg"
          />
          Do<u>w</u>nload Note
          <span class="helperText menuDropdown">Alt + W</span>
        </button>
        <button
          class="menuDropdown"
          disabled
          id="downloadAsPlainText"
          onclick="downloadNoteOperation(true)"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/menu_dropdown_placeholder.svg"
          />
          Download as Plain Text
        </button>
        <button
          class="menuDropdown"
          disabled
          id="saveForLater"
          onclick="saveNoteForLater()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/more_time_000000.svg"
          />
          Save For Later
        </button>
        <hr class="menuDropdown" />
        <button
          accesskey="v"
          class="menuDropdown"
          disabled
          id="closeFile"
          onclick="confirmViewerClose.hidden = false"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/home_000000.svg"
          />
          Close <u>V</u>iewer
          <span class="helperText menuDropdown">Alt + V</span>
        </button>
        <button
          accesskey="t"
          class="menuDropdown"
          disabled
          id="closeNote"
          onclick="confirmSave()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/close_000000.svg"
          />
          Close No<u>t</u>e <span class="helperText menuDropdown">Alt + T</span>
        </button>
      </div>
      <button
        class="menu"
        onmouseleave="document.getElementById('insertMenu').hidden = true"
        onmouseover="document.getElementById('insertMenu').hidden = false"
      >
        Insert
      </button>
      <div
        class="menu"
        hidden
        id="insertMenu"
        onclick="this.hidden = true"
        onmouseleave="this.hidden = true"
        onmouseover="this.hidden = false"
        style="margin-left: 120px"
      >
        <button
          class="menuDropdown"
          disabled
          id="insertTableButton"
          onclick="insertTable.hidden = false"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/table_000000.svg"
          />
          Table
        </button>
        <button
          class="menuDropdown"
          disabled
          id="insertDate"
          onclick="quill.insertText(quill.getSelection(focus), (currentDate.getMonth() + 1).toString() + '/' + currentDate.getDate().toString() + '/' + currentDate.getFullYear().toString())"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/today_000000.svg"
          />
          Current Date
          <span class="helperText menuDropdown">m(m)/d(d)/yyyy</span>
        </button>
        <button
          class="menuDropdown"
          disabled
          id="insertTime"
          onclick="quill.insertText(quill.getSelection(focus), get12HourTime())"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/schedule_000000.svg"
          />
          Current Time <span class="helperText menuDropdown">(h)h:mm</span>
        </button>
        <button
          disabled
          id="insertSymbolButton"
          class="menuDropdown"
          onclick="insertSymbol.hidden = false"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/emoji_symbols_000000.svg"
          />
          Symbol
        </button>
      </div>
      <button
        class="menu"
        onmouseleave="document.getElementById('viewMenu').hidden = true"
        onmouseover="document.getElementById('viewMenu').hidden = false"
      >
        View
      </button>
      <div
        class="menu"
        hidden
        id="viewMenu"
        onclick="this.hidden = true"
        onmouseleave="this.hidden = true"
        onmouseover="this.hidden = false"
        style="margin-left: 178px"
      >
        <button class="menuDropdown" onclick="window.location.reload()">
          <img
            class="reducedIntensity menu"
            src="Assets/Images/refresh_000000.svg"
          />
          Refresh <span class="helperText menuDropdown">F5 or Ctrl + R</span>
        </button>
        <button
          accesskey="u"
          class="menuDropdown"
          onclick="adjustAppSectionSizes.hidden = false"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/width_normal_000000.svg"
          />
          Adj<u>u</u>st Panel Sizes
          <span class="helperText menuDropdown">Alt + U</span>
        </button>
        <button
          disabled
          id="hideEditor"
          class="menuDropdown"
          onclick="toggleMenuCheck('hideEditorCheck'); if (hideEditorCheck.src.includes(checkedImageSource)) { noteEditor.hidden = true; viewersContainer.style.width = '100%' } else { noteEditor.hidden = false; applyPercentageSizes() }"
        >
          <img
            id="hideEditorCheck"
            class="menu"
            src="Assets/Images/menu_dropdown_placeholder.svg"
          />
          Hide Editor
        </button>
        <button
          disabled
          id="hideViewing"
          class="menuDropdown"
          onclick="toggleMenuCheck('hideViewingCheck'); if (hideViewingCheck.src.includes(checkedImageSource)) { viewersContainer.hidden = true; noteEditor.style.width = '100%' } else { viewersContainer.hidden = false; applyPercentageSizes() }"
        >
          <img
            id="hideViewingCheck"
            class="menu"
            src="Assets/Images/menu_dropdown_placeholder.svg"
          />
          Hide Viewing
        </button>
        <hr class="menuDropdown" />
        <button
          class="menuDropdown"
          disabled
          id="showHTMLEditor"
          onclick="toggleDialog(true, 'noteAsHTML', null); noteHTMLCodeEditor.session.setValue(quill.getSemanticHTML())"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/integration_instructions_000000.svg"
          />
          Show Note as HTML Markup
        </button>
        <button
          accesskey="h"
          class="menuDropdown"
          onclick="toggleDialog(true, 'writingInsights', null); displayWritingInsights()"
        >
          <img
            class="reducedIntensity menu"
            style="rotate: 180deg"
            src="Assets/Images/data_alert_000000.svg"
          />
          Writing Insights
        </button>
        <button
          accesskey="h"
          class="menuDropdown"
          onclick="toggleDialog(true, 'viewingHistory', null); appendViewingHistory()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/history_000000.svg"
          />
          Viewing <u>H</u>istory
          <span class="helperText menuDropdown">Alt + H</span>
        </button>
      </div>
      <button
        class="menu"
        onmouseleave="document.getElementById('settingsMenu').hidden = true"
        onmouseover="document.getElementById('settingsMenu').hidden = false"
      >
        Settings
      </button>
      <div
        class="menu"
        hidden
        id="settingsMenu"
        onclick="this.hidden = true"
        onmouseleave="this.hidden = true"
        onmouseover="this.hidden = false"
        style="margin-left: 231px"
      >
        <button
          class="menuDropdown"
          id="autoSave"
          onclick="toggleMenuCheck('autoSaveCheck'); if (autoSaveCheck.src.includes(checkedImageSource)) { localStorage.setItem('autoSaveEnabled', 'true'); mainEditor.oninput = () => { saveNoteProgress(); updateStatusBar() } } else { localStorage.setItem('autoSaveEnabled', 'false'); mainEditor.oninput = () => { updateStatusBar() } }"
        >
          <img class="menu" id="autoSaveCheck" />
          Save on Edit <span class="helperText menuDropdown">Auto-Save</span>
        </button>
        <button
          class="menuDropdown"
          id="wordWrap"
          onclick="toggleMenuCheck('wordWrapCheck'); if (wordWrapCheck.src.includes(checkedImageSource)) { localStorage.setItem('wordWrapEnabled', 'true'); mainEditor.style.wordBreak = 'break-word' } else { localStorage.setItem('wordWrapEnabled', 'false'); mainEditor.style.wordBreak = 'normal' }"
          title="May cause layout issues"
        >
          <img
            class="menu"
            id="wordWrapCheck"
            src="Assets/Images/check_000000.svg"
          />
          Word Wrap
        </button>
        <button
          id="darkModeToggle"
          class="menuDropdown"
          onclick="toggleMenuCheck('darkModeCheck'); if (darkModeCheck.src.includes(checkedImageSource)) { localStorage.setItem('darkMode', 'true'); darkModeStylesheet.href = 'Styles/dark.css' } else { localStorage.setItem('darkMode', 'false'); darkModeStylesheet.removeAttribute('href') }"
        >
          <img
            class="menu"
            id="darkModeCheck"
            src="Assets/Images/menu_dropdown_placeholder.svg"
          />
          Dark Mode
        </button>
        <button class="menuDropdown" disabled style="display: flex">
          Code Editor Theme
          <select
            id="codeEditorTheme"
            style="margin-left: 5px; width: 100%"
            onchange="noteHTMLCodeEditor.setTheme('ace/theme/' + codeEditorTheme.value); codeFileViewCodeEditor.setTheme('ace/theme/' + codeEditorTheme.value); localStorage.setItem('selectedCodeEditorTheme', codeEditorTheme.value)"
          >
            <optgroup label="A">
              <option value="ambiance">Ambiance</option>
            </optgroup>
            <optgroup label="C">
              <option value="chaos">Chaos</option>
              <option value="chrome">Chrome</option>
              <option value="cloud9_day" selected>Cloud9 Day</option>
              <option value="cloud9_night">Cloud9 Night</option>
              <option value="cloud9_night_low_color">
                Cloud9 Night (Low-Color)
              </option>
              <option value="cloud_editor">Cloud Editor</option>
              <option value="cloud_editor_dark">Cloud Editor Dark</option>
              <option value="clouds">Clouds</option>
              <option value="clouds_midnight">Clouds Midnight</option>
              <option value="cobalt">Cobalt</option>
              <option value="crimson_editor">Crimson Editor</option>
            </optgroup>
            <optgroup label="D">
              <option value="dawn">Dawn</option>
              <option value="dracula">Dracula</option>
              <option value="dreamweaver">Dreamweaver</option>
            </optgroup>
            <optgroup label="E">
              <option value="eclipse">Eclipse</option>
            </optgroup>
            <optgroup label="G">
              <option value="github">GitHub</option>
              <option value="github_dark">GitHub Dark</option>
              <option value="github_light_default">GitHub Light Default</option>
              <option value="gob">Gob</option>
              <option value="gruvbox">Gruvbox</option>
              <option value="gruvbox_dark_hard">Gruvbox Dark</option>
              <option value="gruvbox_light_hard">Gruvbox Light</option>
            </optgroup>
            <optgroup label="I">
              <option value="idle_fingers">Idle Fingers</option>
              <option value="iplastic">iPlastic</option>
            </optgroup>
            <optgroup label="K">
              <option value="katzenmilch">Katzenmilch</option>
              <option value="kr_theme">KR Theme</option>
              <option value="kuroir">Kuroir</option>
            </optgroup>
            <optgroup label="M">
              <option value="merbivore">Merbivore</option>
              <option value="merbivore_soft">Merbivore Soft</option>
              <option value="mono_industrial">Mono Industrial</option>
              <option value="monokai">Monokai</option>
            </optgroup>
            <optgroup label="N">
              <option value="nord_dark">Nord Dark</option>
            </optgroup>
            <optgroup label="O">
              <option value="one_dark">One Dark</option>
            </optgroup>
            <optgroup label="P">
              <option value="pastel_on_dark">Pastel on Dark</option>
            </optgroup>
            <optgroup label="S">
              <option value="solarized_dark">Solarized Dark</option>
              <option value="solarized_light">Solarized Light</option>
              <option value="sqlserver">SQL Server</option>
            </optgroup>
            <optgroup label="T">
              <option value="terminal">Terminal</option>
              <option value="textmate">TextMatee</option>
              <option value="tomorrow">Tomorrow</option>
              <option value="tomorrow_night">Tomorrow Night</option>
              <option value="tomorrow_night_blue">Tomorrow Night Blue</option>
              <option value="tomorrow_night_bright">
                Tomorrow Night Bright
              </option>
              <option value="tomorrow_night_eighties">
                Tomorrow Night Eighties
              </option>
              <option value="twilight">Twilight</option>
            </optgroup>
            <optgroup label="V">
              <option value="vibrant_ink">Vibrant Ink</option>
            </optgroup>
            <optgroup label="X">
              <option value="xcode">Xcode</option>
            </optgroup>
          </select>
        </button>
        <button
          id="importOwnStylesheet"
          class="menuDropdown"
          onclick="customStylesheetImport.click()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/css_000000.svg"
          />
          Import Your Own Style Sheet
          <input
            hidden
            id="customStylesheetImport"
            type="file"
            accept="text/css"
            onchange="customStylesheet.href = window.URL.createObjectURL(this.files[0]); importOwnStylesheet.disabled = true; revertToDefaultStyle.disabled = false; darkModeCheck.src = uncheckedImageSource"
          />
        </button>
        <button
          disabled
          id="revertToDefaultStyle"
          class="menuDropdown"
          onclick="customStylesheet.removeAttribute('href'); importOwnStylesheet.disabled = false; this.disabled = true"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/menu_dropdown_placeholder.svg"
          />
          Revert to Default Style Sheet
        </button>
        <button
          class="menuDropdown"
          onclick="localStorage.clear(); window.location.reload()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/reset_settings_000000.svg"
          />
          Clear App Data
          <span class="helperText menuDropdown"
            >WARNING: This includes any saved notes and settings</span
          >
        </button>
      </div>
      <button
        class="menu"
        onmouseleave="document.getElementById('helpMenu').hidden = true"
        onmouseover="document.getElementById('helpMenu').hidden = false"
      >
        Help
      </button>
      <div
        class="menu"
        hidden
        id="helpMenu"
        onclick="this.hidden = true"
        onmouseleave="this.hidden = true"
        onmouseover="this.hidden = false"
        style="margin-left: 303px"
      >
        <button class="menuDropdown" onclick="launchExample()">
          <img
            class="reducedIntensity menu"
            src="Assets/Images/play_lesson_000000.svg"
          />
          Launch Example
        </button>
        <button
          class="menuDropdown"
          onclick="toggleDialog(true, 'gettingStarted', null)"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/waving_hand_000000.svg"
          />
          Get Started
        </button>
        <button
          class="menuDropdown"
          onclick="window.open('https://github.com/j-m-a-g/NoteMaster/issues', '_blank')"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/feedback_000000.svg"
          />
          Send Feedback
        </button>
        <button
          class="menuDropdown"
          onclick="toggleDialog(true, 'aboutDialog', null)"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/info_000000.svg"
          />
          About
        </button>
      </div>
    </nav>

    <div style="padding-top: 35px">
      <table id="appSectionsTable" style="width: 100%; height: 100%">
        <tr id="appSectionsTableRow">
          <!-- Editing Panel -->
          <td class="appSection" id="createOrOpenContainer">
            <img
              class="reducedIntensity"
              src="Assets/Images/door_open_000000.svg"
            />
            <h1 id="userGreeting"></h1>
            <details
              id="startFromScratchOptions"
              onclick="savedForLaterDetails.open = false"
              open
            >
              <summary>
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/cards_star_000000.svg"
                />
                Start From Scratch
              </summary>
              <button class="appSection" onclick="initiateNote(false)">
                <table>
                  <tr>
                    <td>
                      <img
                        class="appSection reducedIntensity"
                        src="Assets/Images/note_add_000000.svg"
                      />
                    </td>
                    <td style="width: 100%">
                      <span class="buttonHeading">
                        Create a <u>N</u>ew Note
                        <span class="helperText menuDropdown">Alt + N</span>
                      </span>
                      <br />
                      <span class="helperText"
                        >Get started with a blank slate</span
                      >
                    </td>
                  </tr>
                </table>
              </button>
              <button class="appSection" onclick="openNoteFileInput.click()">
                <table>
                  <tr>
                    <td>
                      <img
                        class="appSection reducedIntensity"
                        src="Assets/Images/file_open_000000.svg"
                      />
                    </td>
                    <td>
                      <span class="buttonHeading">
                        <u>O</u>pen an Existing Note
                        <span class="helperText menuDropdown">Alt + O</span>
                      </span>
                      <br />
                      <input
                        accept="text/html"
                        hidden
                        id="openNoteFileInput"
                        onchange="initiateNote(true)"
                        type="file"
                      />
                      <span class="helperText"
                        >Browse your computer for a note you were working on
                        last time</span
                      >
                    </td>
                  </tr>
                </table>
              </button>
              <button
                class="appSection"
                id="wordDocumentToNoteButton"
                onclick="convertWordToNoteInput.click()"
              >
                <table>
                  <tr>
                    <td>
                      <img
                        class="appSection reducedIntensity"
                        src="Assets/Images/convert_to_text_000000.svg"
                      />
                    </td>
                    <td>
                      <span class="buttonHeading"
                        >Convert a Word Document to a Note</span
                      >
                      <br />
                      <input
                        accept=".xml, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                        hidden
                        id="convertWordToNoteInput"
                        onchange="convertWordToNote(); wordDocumentToNoteButton.disabled = true"
                        type="file"
                      />
                      <span class="helperText"
                        >Markup your Word document as a note</span
                      >
                    </td>
                  </tr>
                </table>
              </button>
              <button
                class="primaryButton"
                hidden
                id="downloadConvertedNote"
                onclick="downloadConversion()"
                style="margin-bottom: 5px"
              >
                <img
                  class="primaryButton menu"
                  src="Assets/Images/download_000000.svg"
                />
                Download Converted Note
              </button>
            </details>
            <details
              id="savedForLaterDetails"
              onclick="startFromScratchOptions.open = false"
            >
              <summary>
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/schedule_000000.svg"
                />
                Saved for Later
              </summary>
              <div
                id="savedForLater"
                style="height: 200px; overflow-y: auto"
              ></div>
              <p id="nothingSavedIndicator">
                To save notes, select the,
                <span class="helperText">"Save for Later"</span> option when you
                are about to close your note or navigate to
                <span class="helperText">File > Save For Later</span>.
              </p>
            </details>
          </td>
          <td class="appSection" hidden id="noteEditor">
            <div style="overflow-x: auto; height: 100%">
              <nav style="margin-bottom: 5px">
                <button
                  class="navButton navSeparation"
                  onclick="toggleDialog(true, 'shareCopyOfNote', 'shareCopyLink'); prepareToShare()"
                  style="width: 125px"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/share_000000.svg"
                  />
                  Share a Copy
                </button>
                <button
                  class="navButton"
                  onclick="mainEditorFontSize += 1; mainEditor.style.fontSize = mainEditorFontSize + 'px'; updateStatusBar()"
                  title="Zoom In"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/zoom_in_000000.svg"
                  />
                </button>
                <button
                  class="navButton navSeparation"
                  onclick="mainEditorFontSize -= 1; mainEditor.style.fontSize = mainEditorFontSize + 'px'; updateStatusBar()"
                  title="Zoom Out"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/zoom_out_000000.svg"
                  />
                </button>
                <input
                  id="noteName"
                  oninput="noteName.value = noteName.value.replaceAll('.', ''); alterWindowTitle(false)"
                  placeholder="Untitled"
                  type="text"
                />
                <span class="helperText" style="font-size: 14px">.htm</span>
              </nav>
              <div
                id="mainEditor"
                oninput="updateStatusBar(); saveWritingCounts()"
              ></div>
              <nav class="statusBar" id="editorStatusBar">
                <table style="width: 100%">
                  <tr>
                    <td>
                      <span id="characterCount"></span>
                    </td>
                    <td>
                      <span id="wordCount"></span>
                    </td>
                    <td>
                      <span id="mainEditorZoom"></span>
                    </td>
                    <td>
                      <button
                        class="warningBanner"
                        title="Writing Insights"
                        onclick="toggleDialog(true, 'writingInsights', null); displayWritingInsights()"
                      >
                        <img
                          class="reducedIntensity menu"
                          style="rotate: 180deg"
                          src="Assets/Images/data_alert_000000.svg"
                        />
                      </button>
                    </td>
                  </tr>
                </table>
              </nav>
              <a hidden id="noteDownloadLink"></a>
            </div>
          </td>
          <!-- Viewing Panel -->
          <td class="appSection" id="chooseViewer">
            <h3>What type of document will you view today?</h3>
            <details id="localDocuments">
              <summary accesskey="y" onclick="onlineDocuments.open = false">
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/sync_saved_locally_000000.svg"
                />
                On <u>Y</u>our Computer
                <span class="helperText menuDropdown">Alt + Y</span>
              </summary>
              <div style="height: 226px; overflow-y: auto">
                <table style="width: 100%">
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="pdfFileInput.click(); toggleViewer(true, 'pdfViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/picture_as_pdf_D16D6A.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">PDF</span>
                              <input
                                accept="application/pdf"
                                hidden
                                id="pdfFileInput"
                                onchange="pdfView.src = window.URL.createObjectURL(this.files[0]); tasksOnceFileOpen('pdfView', 'pdfFileInput')"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="imageFileInput.click(); toggleViewer(true, 'imageViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/image_80A4AE.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Image</span>
                              <input
                                accept="image/*"
                                hidden
                                id="imageFileInput"
                                onchange="imageView.src = window.URL.createObjectURL(this.files[0]); tasksOnceFileOpen('imageView', 'imageFileInput')"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="textFileInput.click(); toggleViewer(true, 'textViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/draft_80A4AE.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Plain Text</span>
                              <input
                                hidden
                                id="textFileInput"
                                onchange="readTextFile(); textViewActions.hidden = false; textView.hidden = false; tasksOnceFileOpen('textViewer', 'textFileInput')"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="videoFileInput.click(); toggleViewer(true, 'videoViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/play_arrow_8B7DBE.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Audio/Video</span>
                              <input
                                accept="audio/*, video/*"
                                hidden
                                id="videoFileInput"
                                onchange="videoView.src = window.URL.createObjectURL(this.files[0]); tasksOnceFileOpen('videoView', 'videoFileInput'); additionalVideoControls.hidden = false"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="wordFileInput.click(); toggleViewer(true, 'wordDocumentViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/description_789DE5.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Word Document</span>
                              <input
                                accept=".xml, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                                hidden
                                id="wordFileInput"
                                onchange="readWordDocument(); tasksOnceFileOpen('wordDocumentView', 'wordFileInput')"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="markdownFileInput.click(); toggleViewer(true, 'markdownFileViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/markdown_EAC452.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Markdown File</span>
                              <input
                                hidden
                                id="markdownFileInput"
                                onchange="readMarkdownFile(); tasksOnceFileOpen('markdownFileView', 'markdownFileInput')"
                                type="file"
                                accept=".md"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="codeFileInput.click(); toggleViewer(true, 'codeFileViewer')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/code_9DC384.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Code File</span>
                              <input
                                hidden
                                id="codeFileInput"
                                onchange="viewCodeFile()"
                                type="file"
                              />
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </details>
            <details id="onlineDocuments">
              <summary accesskey="l" onclick="localDocuments.open = false">
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/rss_feed_000000.svg"
                />
                On<u>l</u>ine
                <span class="helperText menuDropdown">Alt + L</span>
              </summary>
              <div style="height: 226px; overflow-y: auto">
                <table style="width: 100%">
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'linkToPDF', 'URLToPDFInput')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/picture_as_pdf_D16D6A.svg"
                              />
                              <br />
                              <img
                                class="reducedIntensity appSection"
                                src="Assets/Images/link_000000.svg"
                                style="margin-top: -20px; margin-left: 10px"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Link to a PDF</span>
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'linkToImage', 'URLToImageInput')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/image_80A4AE.svg"
                              />
                              <br />
                              <img
                                class="reducedIntensity appSection"
                                src="Assets/Images/link_000000.svg"
                                style="margin-top: -20px; margin-left: 10px"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading"
                                >Link to an Image</span
                              >
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'insertCloudURLDialog', 'URLToCloudFile')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/cloud_7CA7D8.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading"
                                >File in the Cloud</span
                              >
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleViewer(true, 'webpageViewer'); tasksOnceFileOpen('webpageView', null); noFileSelected.hidden = true; webpageURLBar.focus()"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/language_8B7DBE.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Webpage</span>
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'linkToOnlineDesign', 'URLToOnlineDesign')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/wall_art_80A4AE.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Canva Design</span>
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'linkToTubeVideo', 'URLToTubeVideo')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="appSection"
                                src="Assets/Images/youtube_activity_BB271A.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">YouTube Video</span>
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <button
                        class="appSection"
                        onclick="toggleDialog(true, 'customEmbed', 'embeddedCode')"
                      >
                        <table>
                          <tr>
                            <td>
                              <img
                                class="reducedIntensity appSection"
                                src="Assets/Images/frame_source_000000.svg"
                              />
                            </td>
                            <td>
                              <span class="buttonHeading">Custom Embed</span>
                            </td>
                          </tr>
                        </table>
                      </button>
                    </td>
                  </tr>
                </table>
              </div>
            </details>
            <button
              class="appSection"
              onclick="anotherNoteFileInput.click(); toggleViewer(true, 'anotherNoteViewer')"
            >
              <table>
                <tr>
                  <td>
                    <img
                      class="appSection reducedIntensity"
                      src="Assets/Images/menu_book_000000.svg"
                    />
                  </td>
                  <td>
                    <span class="buttonHeading">Another Note</span>
                    <br />
                    <input
                      accept="text/html"
                      hidden
                      id="anotherNoteFileInput"
                      onchange="readHTMLNote(); anotherNoteView.hidden = false"
                      type="file"
                    />
                    <span class="helperText"
                      >Have another note open on the side</span
                    >
                  </td>
                </tr>
              </table>
            </button>
          </td>
          <td class="appSection" hidden id="viewersContainer">
            <table style="position: fixed; margin-top: -15px">
              <tr>
                <td>
                  <button
                    class="warningBanner"
                    id="viewerStatusBarIndicator"
                    onmouseover="this.hidden = true; viewerStatusBar.hidden = false"
                  >
                    <img
                      class="reducedIntensity menu"
                      src="Assets/Images/info_000000.svg"
                    />
                  </button>
                </td>
                <td style="width: 100%">
                  <nav
                    onmouseover="this.hidden = false"
                    onmouseleave="this.hidden = true; viewerStatusBarIndicator.hidden = false"
                    hidden
                    class="statusBar"
                    id="viewerStatusBar"
                    style="margin-top: 0; margin-bottom: 5px"
                  >
                    <table style="width: 100%">
                      <tr>
                        <td style="width: 5%">
                          <button
                            class="warningBanner"
                            onclick="toggleDialog(true,  'viewingHistory', null); appendViewingHistory()"
                            title="Show viewing history"
                          >
                            <img
                              class="reducedIntensity menu"
                              src="Assets/Images/history_000000.svg"
                            />
                          </button>
                        </td>
                        <td>
                          <span class="helperText">File Name</span>
                          <span
                            class="copyOnClick"
                            id="fileName"
                            onclick="navigator.clipboard.writeText(this.innerHTML); displaySnackbar(copiedToClipboardString)"
                            title="Copy the file's name"
                            >---</span
                          >
                        </td>
                        <td>
                          <span class="helperText">Size</span>
                          <span
                            class="copyOnClick"
                            id="fileSize"
                            onclick="navigator.clipboard.writeText(this.innerHTML); displaySnackbar(copiedToClipboardString)"
                            title="Copy the file's size"
                            >---</span
                          >
                        </td>
                        <td>
                          <span class="helperText">Last Modified</span>
                          <span
                            class="copyOnClick"
                            id="fileLastModified"
                            onclick="navigator.clipboard.writeText(this.innerHTML); displaySnackbar('Copied to clipboard')"
                            title="Copy the file's last modified date"
                            >---</span
                          >
                        </td>
                      </tr>
                    </table>
                  </nav>
                </td>
              </tr>
            </table>
            <div id="noFileSelected" style="margin-top: 15%">
              <img
                class="reducedIntensity"
                src="Assets/Images/file_copy_off_000000.svg"
                style="margin-left: 45%"
              />
              <h2 class="helperText" style="text-align: center">
                No file has been chosen... Yet
              </h2>
              <button
                class="primaryButton"
                onclick="hideAndShow('viewersContainer', 'chooseViewer')"
                style="width: 100%"
              >
                <img
                  class="primaryButton menu"
                  src="Assets/Images/home_000000.svg"
                />
                Return to Welcome
              </button>
            </div>
            <div hidden id="pdfViewer">
              <iframe hidden id="pdfView"></iframe>
            </div>
            <div hidden id="imageViewer">
              <img id="imageView" />
            </div>
            <div hidden id="textViewer">
              <nav hidden id="textViewActions">
                <select
                  class="navSeparation"
                  id="textViewFont"
                  onchange="textView.style.fontFamily = textViewFont.value"
                >
                  <option value="sans-serif">Sans Serif</option>
                  <option value="serif">Serif</option>
                  <option selected value="monospace">Monospace</option>
                </select>
                <button
                  class="navButton"
                  onclick="textViewFontSize += 1; textView.style.fontSize = textViewFontSize + 'px'"
                  title="Increase font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/text_increase_000000.svg"
                  />
                </button>
                <button
                  class="navButton"
                  onclick="textViewFontSize -= 1; textView.style.fontSize = textViewFontSize + 'px'"
                  title="Decrease font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/text_decrease_000000.svg"
                  />
                </button>
                <button
                  class="navButton"
                  onclick="textView.style.fontSize = '14px'; textViewFontSize = 14"
                  title="Reset font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/fullscreen_exit_000000.svg"
                  />
                </button>
              </nav>
              <textarea hidden id="textView" readonly></textarea>
            </div>
            <div hidden id="videoViewer">
              <video autoplay controls hidden id="videoView"></video>
              <nav class="statusBar" hidden id="additionalVideoControls">
                <div class="pretty p-default p-curve p-thick">
                  <input
                    oninput="videoView.loop = !!this.checked;"
                    type="checkbox"
                  />
                  <div class="state p-primary p-primary-o">
                    <label>Enable Loop</label>
                  </div>
                </div>
              </nav>
            </div>
            <div hidden id="wordDocumentViewer">
              <div hidden id="wordDocumentView"></div>
            </div>
            <div hidden id="markdownFileViewer">
              <div hidden id="markdownFileView"></div>
            </div>
            <div hidden id="codeFileViewer">
              <nav class="statusBar" hidden id="codeFileViewerStatusBar">
                <span class="helperText navSeparation">Syntax</span>
                <select
                  class="navSeparation"
                  id="programmingLanguageMode"
                  onchange="const editorMode = 'ace/mode/' + programmingLanguageMode.value; codeFileViewCodeEditor.session.setMode(editorMode);"
                >
                  <option value="plain_text">None</option>
                  <optgroup label="A">
                    <option value="actionscript">ActionScript</option>
                    <option value="ada">Ada</option>
                    <option value="apache_conf">Apache Config</option>
                    <option value="assembly_arm32">Assembly (Arm32)</option>
                    <option value="assembly_x86">Assembly (x86)</option>
                    <option value="autohotkey">AutoHotkey</option>
                  </optgroup>
                  <optgroup label="B">
                    <option value="basic">Basic</option>
                    <option value="batchfile">Batch</option>
                  </optgroup>
                  <optgroup label="C">
                    <option value="c_cpp">C/C++</option>
                    <option value="clojure">Clojure</option>
                    <option value="cobol">COBOL</option>
                    <option value="coffee">Coffee</option>
                    <option value="csharp">C#</option>
                    <option value="css">CSS</option>
                    <option value="csv">CSV</option>
                  </optgroup>
                  <optgroup label="D">
                    <option value="dart">Dart</option>
                    <option value="diff">Diff</option>
                    <option value="django">Django</option>
                    <option value="dockerfile">Dockerfile</option>
                  </optgroup>
                  <optgroup label="E">
                    <option value="elixir">Elixir</option>
                    <option value="elm">Elm</option>
                    <option value="erlang">Erlang</option>
                  </optgroup>
                  <optgroup label="F">
                    <option value="fortran">Fortran</option>
                    <option value="fsharp">F#</option>
                  </optgroup>
                  <optgroup label="G">
                    <option value="golang">Go</option>
                    <option value="groovy">Groovy</option>
                  </optgroup>
                  <optgroup label="H">
                    <option value="haskell">Haskell</option>
                    <option value="html">HTML</option>
                  </optgroup>
                  <optgroup label="J">
                    <option value="java">Java</option>
                    <option value="javascript">JavaScript</option>
                    <option value="json">JSON</option>
                    <option value="jsx">JSX</option>
                    <option value="julia">Julia</option>
                  </optgroup>
                  <optgroup label="K">
                    <option value="kotlin">Kotlin</option>
                  </optgroup>
                  <optgroup label="L">
                    <option value="less">LESS</option>
                    <option value="lisp">Lisp</option>
                    <option value="lua">Lua</option>
                  </optgroup>
                  <optgroup label="M">
                    <option value="makefile">Makefile</option>
                    <option value="markdown">Markdown</option>
                    <option value="matlab">MATLAB</option>
                  </optgroup>
                  <optgroup label="N">
                    <option value="nim">Nim</option>
                    <option value="nix">Nix</option>
                  </optgroup>
                  <optgroup label="O">
                    <option value="objectivec">Objective-C</option>
                    <option value="ocaml">OCaml</option>
                  </optgroup>
                  <optgroup label="P">
                    <option value="pascal">Pascal</option>
                    <option value="perl">Perl</option>
                    <option value="php">PHP</option>
                    <option value="powershell">Powershell</option>
                    <option value="prolog">Prolog</option>
                    <option value="python">Python</option>
                  </optgroup>
                  <optgroup label="R">
                    <option value="r">R</option>
                    <option value="razor">Razor</option>
                    <option value="ruby">Ruby</option>
                    <option value="rust">Rust</option>
                  </optgroup>
                  <optgroup label="S">
                    <option value="sass">SASS</option>
                    <option value="scala">Scala</option>
                    <option value="scheme">Scheme</option>
                    <option value="scss">SCSS</option>
                    <option value="sql">SQL</option>
                    <option value="svg">SVG</option>
                    <option value="swift">Swift</option>
                  </optgroup>
                  <optgroup label="T">
                    <option value="toml">TOML</option>
                    <option value="tsx">TSX</option>
                    <option value="typescript">TypeScript</option>
                  </optgroup>
                  <optgroup label="V">
                    <option value="vbscript">VB Script</option>
                  </optgroup>
                  <optgroup label="X">
                    <option value="xml">XML</option>
                  </optgroup>
                  <optgroup label="Y">
                    <option value="yaml">YAML</option>
                  </optgroup>
                  <optgroup label="Z">
                    <option value="zig">Zig</option>
                  </optgroup>
                </select>
                <button
                  class="navButton"
                  onclick="codeFileViewFontSize += 1; codeFileView.style.fontSize = codeFileViewFontSize + 'px'"
                  title="Increase font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/text_increase_000000.svg"
                  />
                </button>
                <button
                  class="navButton"
                  onclick="codeFileViewFontSize -= 1; codeFileView.style.fontSize = codeFileViewFontSize + 'px'"
                  title="Decrease font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/text_decrease_000000.svg"
                  />
                </button>
                <button
                  class="navButton"
                  onclick="codeFileView.style.fontSize = '12px'; codeFileViewFontSize = 12"
                  title="Reset font size"
                >
                  <img
                    class="reducedIntensity menu"
                    src="Assets/Images/fullscreen_exit_000000.svg"
                  />
                </button>
              </nav>
              <div hidden id="codeFileView"></div>
            </div>
            <div hidden id="cloudFileViewer">
              <iframe allowfullscreen hidden id="cloudFileView"></iframe>
            </div>
            <div hidden id="webpageViewer">
              <nav style="margin-bottom: 5px">
                <table>
                  <tr>
                    <td>
                      <button
                        class="navButton"
                        onclick="if (lastViewedWebpages.length > 1) { webpageView.src = lastViewedWebpages[lastViewedWebpages.length - 2]; webpageURLBar.value = lastViewedWebpages[lastViewedWebpages.length - 2] }"
                        title="Back"
                      >
                        <img
                          class="reducedIntensity menu"
                          src="Assets/Images/arrow_back_000000.svg"
                        />
                      </button>
                    </td>
                    <td style="width: 100%">
                      <input
                        id="webpageURLBar"
                        placeholder="Type a website address here"
                        style="width: 95%"
                        type="url"
                      />
                    </td>
                    <td>
                      <button
                        class="navButton"
                        onclick="if (webpageURLBar.value.includes('https://') === false || !webpageURLBar.value.includes('http://') === false) { webpageURLBar.value = 'https://' + webpageURLBar.value } webpageView.src = webpageURLBar.value; lastViewedWebpages.push(webpageURLBar.value); addHistoryEntry('webpageURLBar')"
                        title="Search"
                      >
                        <img
                          class="reducedIntensity menu"
                          src="Assets/Images/search_000000.svg"
                        />
                      </button>
                    </td>
                  </tr>
                </table>
              </nav>
              <iframe
                id="webpageView"
                src="Pages/noWebpageNavigated.html"
              ></iframe>
            </div>
            <div hidden id="onlineDesignViewer">
              <iframe allowfullscreen id="onlineDesignView"></iframe>
            </div>
            <div hidden id="tubeVideoViewer">
              <iframe
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                id="tubeVideoView"
                referrerpolicy="strict-origin-when-cross-origin"
              ></iframe>
            </div>
            <div hidden id="customEmbedViewer"></div>
            <div hidden id="anotherNoteViewer">
              <div hidden id="anotherNoteView"></div>
            </div>
          </td>
        </tr>
      </table>
    </div>

    <!-- Confirm save pop-up -->
    <div class="saveBeforeClosing" hidden id="confirmSaveDialog">
      <div class="dialogOverlay">
        <h2
          class="saveBeforeClosing"
          id="saveDocumentHeading"
          style="text-align: center"
        ></h2>
        <h3 class="saveBeforeClosing helperText">
          You are continuing onto another task and your current work has not
          been saved
        </h3>
        <table
          onclick="confirmSaveDialog.hidden = true"
          style="width: 100%; margin-bottom: 5px"
        >
          <tr>
            <td style="width: 33%">
              <button class="dialogOverlay">
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/edit_note_000000.svg"
                />
                Continue Working
              </button>
            </td>
            <td style="width: 33%">
              <button class="primaryButton" onclick="doNotSave()">
                <img
                  class="primaryButton menu"
                  src="Assets/Images/delete_000000.svg"
                />
                Don't Save
              </button>
            </td>
            <td style="width: 33%">
              <button
                class="dialogOverlay"
                onclick="downloadNoteOperation(false)"
              >
                <img
                  class="reducedIntensity menu"
                  src="Assets/Images/download_000000.svg"
                />
                Download
              </button>
            </td>
          </tr>
        </table>
        <a class="hyperlinkButton" onclick="saveNoteForLater()">
          <img
            class="reducedIntensity menu"
            src="Assets/Images/more_time_000000.svg"
          />
          Save For Later
        </a>
      </div>
    </div>

    <div class="saveBeforeClosing" id="appLoad" style="cursor: wait">
      <div class="dialogOverlay" style="margin-top: 15%">
        <table>
          <tr>
            <td>
              <img
                class="reducedIntensity intermediateLoading"
                src="Assets/Images/progress_activity_000000.svg"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">
                Loading NoteMaster
                <br />
                <span style="font-size: 0.75em" class="helperText"
                  >Just a moment...</span
                >
              </h2>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="saveBeforeClosing" id="mobileSizeIndication" style="z-index: 2">
      <div class="dialogOverlay" style="padding: 20px; text-align: center">
        <img
          class="reducedIntensity"
          src="Assets/Images/fit_width_000000.svg"
        />
        <h2>Looks Like You're Out of Screen Space!</h2>
        <span class="helperText">
          For NoteMaster to be effectively usable, your viewing area must be
          wider than 600 pixels. Please widen your window
        </span>
        <br />
        <br />
        <button
          class="dialogOverlay"
          onclick="mobileSizeIndication.style.display = 'none'"
        >
          Continue Anyway
        </button>
      </div>
    </div>

    <!-- Confirmation before closing a viewer -->
    <div class="saveBeforeClosing" hidden id="confirmViewerClose">
      <div class="dialogOverlay">
        <h2 class="saveBeforeClosing" style="text-align: center">
          Are You Sure You Want to Close This Viewer?
        </h2>
        <h3 class="saveBeforeClosing helperText">
          By doing this, you will revert your view back to Welcome and be able
          to select another document to view
        </h3>
        <table onclick="confirmViewerClose.hidden = true" style="width: 100%">
          <tr>
            <td style="width: 50%">
              <button class="primaryButton" onclick="closeCurrentFile()">
                Yes
              </button>
            </td>
            <td style="width: 50%">
              <button class="dialogOverlay">No</button>
            </td>
          </tr>
        </table>
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(true, 'viewingHistory', null); appendViewingHistory()"
        >
          <img
            class="reducedIntensity menu"
            src="Assets/Images/history_000000.svg"
          />
          See your Viewing History
        </a>
      </div>
    </div>

    <div class="saveBeforeClosing" hidden id="adjustAppSectionSizes">
      <div
        class="dialogOverlay"
        id="appSectionSizesContainer"
        style="backdrop-filter: blur(1px); margin-top: 1%"
      >
        <table>
          <tr>
            <td>
              <img
                src="Assets/Images/width_normal_000000.svg"
                class="reducedIntensity"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Adjust Panel Sizes</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">
          Use your arrow keys or type in a specific value to adjust the size of
          each panel
        </h3>
        <table style="width: 100%">
          <tr>
            <td style="width: 50%">
              <table style="width: 100%">
                <tr>
                  <td>Editor (%)</td>
                </tr>
              </table>
              <input
                id="editorSize"
                placeholder="50% (Default)"
                readonly
                style="width: 90%; margin-top: 5px"
                type="number"
                value="50"
              />
            </td>
            <td style="width: 50%">
              <table style="width: 100%">
                <tr>
                  <td>Viewing (%)</td>
                  <td>
                    <a
                      class="hyperlinkButton"
                      onclick="viewingSize.value = viewingSize.min; adjustViewingAndEditorSizes()"
                      >Min</a
                    >
                    or
                    <a
                      class="hyperlinkButton"
                      onclick="viewingSize.value = viewingSize.max; adjustViewingAndEditorSizes()"
                      >Max</a
                    >
                  </td>
                </tr>
              </table>
              <input
                id="viewingSize"
                max="68"
                min="32"
                oninput="adjustViewingAndEditorSizes()"
                onkeydown="appSectionSizesContainer.style.opacity = '75%'"
                onkeyup="setTimeout(() => { appSectionSizesContainer.style.opacity = '100%' }, 2000);"
                onmousedown="appSectionSizesContainer.style.opacity = '75%'"
                onmouseup="setTimeout(() => { appSectionSizesContainer.style.opacity = '100%' }, 2000);"
                placeholder="50% (Default)"
                style="width: 90%; margin-top: 5px"
                type="number"
                value="50"
              />
            </td>
          </tr>
        </table>
        <a class="hyperlinkButton" onclick="adjustAppSectionSizes.hidden = true"
          >Close</a
        >
        <button
          class="primaryButton"
          onclick="viewingSize.value = 50; editorSize.value = 50; applyPercentageSizes(); localStorage.setItem('viewingSizeValue', viewingSize.value)"
          style="width: 15%; margin-left: 5px; margin-top: 5px"
        >
          <img
            class="primaryButton menu"
            src="Assets/Images/reset_settings_000000.svg"
          />
          Reset
        </button>
      </div>
    </div>

    <div class="saveBeforeClosing" hidden id="insertTable">
      <div class="dialogOverlay" style="height: 75%">
        <h2>Insert a Table</h2>
        <h3 class="helperText">
          Select the number of rows and columns you'd like to have and then copy
          the generated table. Note that this cannot be changed later for the
          same table
        </h3>
        <table style="width: 100%">
          <tr>
            <td style="width: 40%">
              <input
                id="tableRows"
                max="32"
                min="1"
                onchange="if (tableRows.value <= 9 && tableRows.value >= 1) { tableRows.value = '0' + tableRows.value } if (tableRows.value > tableRows.max) { tableRows.value = tableRows.max }"
                placeholder="Rows"
                style="width: 85%"
                type="number"
              />
            </td>
            <td style="width: 40%">
              <input
                id="tableColumns"
                max="32"
                min="1"
                onchange="if (tableColumns.value <= 9 && tableColumns.value >= 1) { tableColumns.value = '0' + tableColumns.value } if (tableColumns.value > tableColumns.max) { tableColumns.value = tableColumns.max }"
                placeholder="Columns"
                style="width: 85%"
                type="number"
              />
            </td>
            <td style="width: 20%">
              <button
                class="primaryButton"
                onclick="createTable()"
                style="width: 100%"
              >
                Create
              </button>
            </td>
          </tr>
        </table>
        <div
          id="insertTableEditor"
          style="user-select: all; margin-top: 5px; margin-bottom: 5px"
        ></div>
        <a
          class="hyperlinkButton"
          onclick="insertTable.hidden = true; insertTableQuill.setContents()"
          >Close</a
        >
        <div hidden id="tableSourceHTML">
          <table id="createdTable"></table>
        </div>
      </div>
    </div>

    <div class="saveBeforeClosing" hidden id="insertSymbol">
      <div class="dialogOverlay" style="margin-left: 50%">
        <h2>Insert a Symbol</h2>
        <h3 class="helperText">
          Select a special character to insert it in your note at your cursor's
          current position
        </h3>
        <div id="symbolsDisplay"></div>
        <a class="hyperlinkButton" onclick="insertSymbol.hidden = true"
          >Close</a
        >
      </div>
    </div>

    <!-- Dialogs with focus -->
    <div hidden id="dialogFocusBackground">
      <!-- "Out-of-Box" Experience -->
      <div class="dialogOverlay" hidden id="gettingStarted">
        <img src="Assets/gettingStartedPreview.png" style="width: 100%" />
        <table>
          <tr>
            <td>
              <img src="notemasterIcon.svg" style="width: 48px" />
            </td>
            <td>
              <h2 class="dialogOverlay">Get Started With NoteMaster</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">A lightweight note-taking app for the web</h3>
        <table style="width: 100%">
          <tr>
            <td>
              <div class="pretty p-default p-curve p-thick">
                <input type="checkbox" oninput="darkModeToggle.click()" />
                <div class="state p-primary-o">
                  <label>Enable Dark Mode</label>
                </div>
              </div>
            </td>
            <td style="width: 33%">
              <button
                class="dialogOverlay"
                onclick="toggleDialog(false, 'gettingStarted', null); localStorage.setItem('finishedGetStarted', 'true'); launchExample()"
              >
                Launch Example
              </button>
            </td>
            <td style="width: 33%">
              <button
                class="primaryButton"
                onclick="toggleDialog(false, 'gettingStarted', null); localStorage.setItem('finishedGetStarted', 'true')"
              >
                Continue
              </button>
            </td>
          </tr>
        </table>
      </div>
      <!-- Error -->
      <div
        class="dialogOverlay"
        hidden
        id="applicationError"
        style="z-index: 3"
      >
        <h1>An Error Occurred</h1>
        <h3 class="helperText" id="errorMessage"></h3>
        <button
          class="dialogOverlay"
          onclick="toggleDialog(false, 'applicationError', null)"
          style="width: 100%"
        >
          OK
        </button>
      </div>
      <!-- Viewing History -->
      <div class="dialogOverlay" hidden id="viewingHistory" style="height: 75%">
        <table>
          <tr>
            <td>
              <img
                src="Assets/Images/history_000000.svg"
                class="reducedIntensity"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Viewing History</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">
          View, manage, and add the documents you have viewed to your notes
        </h3>
        <div id="historyTableContainer" style="overflow-x: auto">
          <table id="viewingHistoryTable"></table>
        </div>
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'viewingHistory', null)"
        >
          Close
        </a>
        <button
          class="primaryButton"
          onclick="document.getElementById('copyHistoryEditor').hidden = false; copyHistoryQuill.clipboard.dangerouslyPasteHTML(historyTableContainer.innerHTML)"
          style="width: 15%; margin-left: 5px"
        >
          <img
            class="primaryButton menu"
            src="Assets/Images/content_copy_000000.svg"
          />
          Copy
        </button>
        <br />
        <br />
        <div hidden id="copyHistoryEditor" style="user-select: all"></div>
      </div>
      <div class="dialogOverlay" hidden id="writingInsights">
        <table>
          <tr>
            <td>
              <img
                src="Assets/Images/data_alert_000000.svg"
                class="reducedIntensity"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Writing Insights</h2>
            </td>
          </tr>
        </table>
        <table style="width: 100%; border-spacing: 10px">
          <tr>
            <td style="width: 50%">
              <h4 style="text-align: center">You Typed</h4>
              <h1 style="text-align: center" id="totalWordCountDisplay">0</h1>
              <progress id="wordCountVisual"></progress>
              <table style="width: 100%">
                <tr>
                  <td style="width: 90%" class="helperText">0</td>
                  <td class="helperText" id="wordCountVisualMax"></td>
                </tr>
              </table>
              <h4 style="text-align: center">Total Words</h4>
            </td>
            <td style="width: 50%">
              <h4 style="text-align: center">and</h4>
              <h1 id="totalCharacterCountDisplay" style="text-align: center">
                0
              </h1>
              <progress id="characterCountVisual"></progress>
              <table style="width: 100%">
                <tr>
                  <td style="width: 90%" class="helperText">0</td>
                  <td class="helperText" id="characterCountVisualMax"></td>
                </tr>
              </table>
              <h4 style="text-align: center">Total Characters</h4>
            </td>
          </tr>
        </table>
        <h3 class="helperText">Typing Target</h3>
        Set a goal for typing
        <select
          id="typingTarget"
          onchange="if (this.value === 'custom') { this.hidden = true; customTypingTarget.hidden = false }"
        >
          <option value="1000">1,000</option>
          <option value="2000">2,000</option>
          <option value="4000">4,000</option>
          <option value="8000">8,000</option>
          <option value="16000">16,000</option>
          <option value="32000">32,000</option>
          <option value="64000">64,000</option>
          <option value="custom">Custom...</option>
        </select>
        <input
          placeholder="Custom target"
          hidden
          id="customTypingTarget"
          type="number"
          min="100"
          value="100"
        />
        <select id="wordsOrCharacters">
          <option value="words">Words</option>
          <option value="characters">Characters</option>
        </select>
        <button
          id="setTypingTarget"
          class="primaryButton"
          style="width: fit-content"
          onclick="configureTypingGoal(false)"
        >
          Set
        </button>
        <button
          hidden
          id="resetTypingTarget"
          class="dialogOverlay"
          style="width: fit-content"
          onclick="configureTypingGoal(true)"
        >
          Reset
        </button>
        <br />
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'writingInsights', null)"
        >
          Close
        </a>
      </div>
      <!-- Link to PDF -->
      <div class="dialogOverlay" hidden id="linkToPDF">
        <img src="Assets/Images/picture_as_pdf_D16D6A.svg" />
        <img class="reducedIntensity" src="Assets/Images/link_000000.svg" />
        <h1>Link to a PDF</h1>
        <h3 class="helperText">Paste the URL to your PDF below</h3>
        <table style="width: 100%; margin-bottom: 10px">
          <tr>
            <td style="width: 75%">
              <input
                id="URLToPDFInput"
                placeholder="e.x: https://example.com/document.pdf"
                style="width: 94%"
                type="url"
              />
            </td>
            <td>
              <button
                class="primaryButton"
                onclick="if (checkURLInput('URLToPDFInput')) { toggleDialog(false, 'linkToPDF', null); pdfView.src = document.getElementById('URLToPDFInput').value; toggleViewer(true, 'pdfViewer'); tasksOnceFileOpen('pdfView', null); addHistoryEntry('URLToPDFInput')}"
              >
                Open
              </button>
            </td>
          </tr>
        </table>
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'linkToPDF', null)"
        >
          Close
        </a>
      </div>
      <!-- Link to an Image -->
      <div class="dialogOverlay" hidden id="linkToImage">
        <img src="Assets/Images/image_80A4AE.svg" />
        <img class="reducedIntensity" src="Assets/Images/link_000000.svg" />
        <h1>Link to an Image</h1>
        <h3 class="helperText">Paste the URL to your image below</h3>
        <table style="width: 100%; margin-bottom: 10px">
          <tr>
            <td style="width: 75%">
              <input
                id="URLToImageInput"
                placeholder="e.x: https://example.com/image.jpg"
                style="width: 94%"
                type="url"
              />
            </td>
            <td>
              <button
                class="primaryButton"
                onclick="if (checkURLInput('URLToImageInput')) { toggleDialog(false, 'linkToImage', null); imageView.src = document.getElementById('URLToImageInput').value; toggleViewer(true, 'imageViewer'); tasksOnceFileOpen('imageView', null); addHistoryEntry('URLToImageInput') }"
              >
                Open
              </button>
            </td>
          </tr>
        </table>
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'linkToImage', null)"
        >
          Close
        </a>
      </div>
      <!-- Cloud file -->
      <div class="dialogOverlay" hidden id="insertCloudURLDialog">
        <img src="Assets/Images/cloud_7CA7D8.svg" />
        <img src="Assets/Images/article_789DE5.svg" />
        <img src="Assets/Images/dataset_9DC384.svg" />
        <img src="Assets/Images/insert_chart_D08370.svg" />
        <h1>File in the Cloud</h1>
        <h3 class="helperText">
          Paste the URL to your cloud document below from your browser's address
          bar
        </h3>
        <span class="helperText">Cloud Storage Service</span>
        <table style="width: 100%; margin-top: 10px; margin-bottom: 10px">
          <tr>
            <td>
              <div class="pretty p-default p-curve p-thick">
                <input
                  checked
                  id="onedriveOrigin"
                  name="documentOrigin"
                  type="radio"
                />
                <div class="state p-primary p-primary-o">
                  <label>OneDrive</label>
                </div>
              </div>
            </td>
            <td>
              <div class="pretty p-default p-curve p-thick">
                <input
                  id="googleDriveOrigin"
                  name="documentOrigin"
                  type="radio"
                />
                <div class="state p-primary p-primary-o">
                  <label>Google Drive</label>
                </div>
              </div>
            </td>
          </tr>
        </table>
        <table style="width: 100%; margin-bottom: 10px">
          <tr>
            <td style="width: 75%">
              <input
                id="URLToCloudFile"
                placeholder="e.x: https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit?gid=0#gid=0"
                style="width: 94%"
                type="url"
              />
            </td>
            <td>
              <button class="primaryButton" onclick="parseCloudDocumentURL()">
                Open
              </button>
            </td>
          </tr>
        </table>
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'insertCloudURLDialog', null)"
        >
          Close
        </a>
      </div>
      <div class="dialogOverlay" hidden id="linkToOnlineDesign">
        <table>
          <tr>
            <td>
              <img src="Assets/Images/wall_art_80A4AE.svg" />
            </td>
            <td>
              <h2 class="dialogOverlay">Canva Design</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">
          Paste the URL to your Canva design below from your browser's address
          bar and ensure everyone can view it
        </h3>
        <table style="width: 100%; margin-bottom: 10px">
          <tr>
            <td style="width: 75%">
              <input
                id="URLToOnlineDesign"
                placeholder="e.x: https://www.canva.com/design/DAFtggAaSbw/SzSJMmE_NBWoxEPNDkNjbQ/edit"
                style="width: 94%"
                type="url"
              />
            </td>
            <td>
              <button
                class="primaryButton"
                onclick="if (checkURLInput('URLToOnlineDesign')) { onlineDesignView.src = URLToOnlineDesign.value.replace('edit', 'view') + '?embed'; toggleDialog(false, 'linkToOnlineDesign', null); toggleViewer(true,  'onlineDesignViewer'); tasksOnceFileOpen('onlineDesignView', null); addHistoryEntry('URLToOnlineDesign') }"
              >
                Open
              </button>
            </td>
          </tr>
        </table>
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'linkToOnlineDesign', null)"
        >
          Close
        </a>
      </div>
      <!-- Link to a Video -->
      <div class="dialogOverlay" hidden id="linkToTubeVideo">
        <table>
          <tr>
            <td>
              <img src="Assets/Images/youtube_activity_BB271A.svg" />
            </td>
            <td>
              <h2 class="dialogOverlay">YouTube Video</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">Paste the URL to your YouTube video below</h3>
        <table style="width: 100%; margin-bottom: 10px">
          <tr>
            <td style="width: 75%">
              <input
                id="URLToTubeVideo"
                placeholder="e.x: https://www.youtube.com/watch?v=jNQXAC9IVRw"
                style="width: 94%"
                type="url"
              />
            </td>
            <td>
              <button
                class="primaryButton"
                onclick="if (checkURLInput('URLToTubeVideo')) { tubeVideoView.src = 'https://www.youtube.com/embed/' + (URLToTubeVideo.value.replaceAll('https://www.youtube.com/watch?v=', '')).replaceAll('https://youtu.be/', ''); toggleDialog(false, 'linkToTubeVideo', null); toggleViewer(true, 'tubeVideoViewer'); tasksOnceFileOpen('tubeVideoView', null); addHistoryEntry('URLToTubeVideo') }"
              >
                Open
              </button>
            </td>
          </tr>
        </table>
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'linkToTubeVideo', null)"
        >
          Close
        </a>
      </div>
      <!-- Custom iFrame -->
      <div class="dialogOverlay" hidden id="customEmbed">
        <table>
          <tr>
            <td>
              <img
                class="reducedIntensity"
                src="Assets/Images/frame_source_000000.svg"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Custom Embed</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">
          Bring your own iFrame code to view it in the Viewing Panel
        </h3>
        <table style="width: 100%; height: 150px">
          <tr>
            <td style="width: 75%">
              <textarea
                id="embeddedCode"
                placeholder="Paste your code here"
              ></textarea>
            </td>
            <td style="width: 25%">
              <button class="primaryButton" onclick="verifyIfiFrameInEmbed()">
                Open
              </button>
            </td>
          </tr>
        </table>
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'customEmbed', null)"
        >
          Close
        </a>
      </div>
      <div class="dialogOverlay" hidden id="shareCopyOfNote">
        <table>
          <tr>
            <td>
              <img
                class="reducedIntensity"
                src="Assets/Images/share_000000.svg"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Share a Copy</h2>
            </td>
          </tr>
        </table>
        <h3 class="helperText">
          Send a <b>copy</b> of your note to another person for editing. If you
          have images from the web in your note, the link might not work
        </h3>
        <input
          id="shareCopyLink"
          readonly
          style="width: 95%; user-select: all"
          type="url"
        />
        <br />
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'shareCopyOfNote', null)"
        >
          Close
        </a>
        <button
          class="primaryButton"
          onclick="navigator.clipboard.writeText(shareCopyLink.value); displaySnackbar('Link copied!')"
          style="width: 20%; margin-left: 10px"
        >
          <img class="primaryButton menu" src="Assets/Images/link_000000.svg" />
          Copy Link
        </button>
      </div>
      <div
        class="dialogOverlay"
        hidden
        id="noteAsHTML"
        style="height: 90%; margin-top: 1%"
      >
        <table>
          <tr>
            <td>
              <img
                src="Assets/Images/integration_instructions_000000.svg"
                class="reducedIntensity"
              />
            </td>
            <td>
              <h2 class="dialogOverlay">Show Note as HTML Markup</h2>
            </td>
          </tr>
        </table>

        <h3 class="helperText">
          See your note as HTML markup to be used within other applications
        </h3>
        <div id="noteHTML"></div>
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'noteAsHTML', null)"
        >
          Close
        </a>
        <button
          class="primaryButton"
          onclick="navigator.clipboard.writeText(noteHTMLCodeEditor.getValue()); displaySnackbar(copiedToClipboardString)"
          style="width: 15%; margin-left: 5px"
        >
          <img
            class="primaryButton menu"
            src="Assets/Images/content_copy_000000.svg"
          />
          Copy
        </button>
      </div>
      <div class="dialogOverlay" hidden id="aboutDialog">
        <img class="reducedIntensity" src="Assets/Images/info_000000.svg" />
        <img src="notemasterIcon.svg" style="width: 48px" />
        <h2>About</h2>
        <p style="line-height: 25px">
          NoteMaster v25.6.4
          <br />
          Designed and developed by
          <a href="https://github.com/j-m-a-g" target="_blank">J. Maghamez</a>
          <br />
          <br />
          Built with open-source software
        </p>
        <table style="width: 100%">
          <tr>
            <td>
              <a href="https://ace.c9.io" target="_blank">ace</a>
            </td>
            <td>
              <a href="https://github.com/ihwf/mammoth-plus" target="_blank"
                >mammoth-plus</a
              >
            </td>
            <td>
              <a href="https://marked.js.org" target="_blank">Marked</a>
            </td>
            <td>
              <a
                href="https://lokesh-coder.github.io/pretty-checkbox"
                target="_blank"
                >pretty-checkbox</a
              >
            </td>
          </tr>
          <tr>
            <td>
              <a href="https://quilljs.com" target="_blank">Quill.js</a>
            </td>
          </tr>
        </table>
        <br />
        <a
          class="hyperlinkButton"
          onclick="toggleDialog(false, 'aboutDialog', null)"
        >
          Close
        </a>
      </div>
    </div>

    <script src="Assets/ace-builds/src/ace.js"></script>
    <script src="Assets/mammoth-plus/dist/mammoth-plus.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/quill/dist/quill.min.js"></script>
    <script src="Scripts/editorFunctions.js"></script>
    <script src="Scripts/fileViewing.js"></script>
    <script src="Scripts/globalVarDeclarations.js"></script>
    <script src="Scripts/index.js"></script>
  </body>
</html>
